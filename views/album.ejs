<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
 
  <meta viewport="width=1000">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="./style.css">
  <title>3D Flip Album</title>

</head>

<body>
 
  <div id="player2" style="display: none;"></div> <!-- for music -->
  <div id="player" style="display: none;"></div> <!-- for page sound -->
 
  <div class="btn-container">
    <button class="share-btn" onclick="sharePage()">
      <i class="fa-solid fa-share-nodes" class="hand" id="hand"></i> Share
    </button>
  </div>

  <div class="book" onclick="playAudio() ,playmusic()">
    <!-- First Page (Cover Page) -->
    <div class="page" onclick="playAudio()">
      <div class="front cover" onclick="playAudio()">
        <h1 style="position: absolute; top: 15%; font-size: 30px; left: 8px;">ğ“¦ğ“®ğ“­ğ“­ğ“²ğ“·ğ“° ğ“ğ“µğ“«ğ“¾ğ“¶</h1>
        <div class="firstpage">
          <img
            src="https://png.pngtree.com/png-clipart/20230927/original/pngtree-wedding-caricature-png-image_13144276.png"
            alt="">

        </div>
        <div class="fsi">

          <img
            src="https://static.vecteezy.com/system/resources/previews/044/808/898/non_2x/red-bright-abstract-spot-brush-stroke-abstract-figure-background-texture-transparent-clipart-free-png.png"
            alt="">
        </div>
        <div class="fsi2">

          <img
            src="https://static.vecteezy.com/system/resources/previews/044/808/898/non_2x/red-bright-abstract-spot-brush-stroke-abstract-figure-background-texture-transparent-clipart-free-png.png"
            alt="">
        </div>
        <div class="fsi3">

          <img
            src="https://png.pngtree.com/png-vector/20230220/ourmid/pngtree-sang-hindi-calligraphy-png-image_6610553.png"
            alt="">
        </div>


        <div class="image-container">
          <img class="centered-image"
            src="https://static.vecteezy.com/system/resources/previews/034/866/031/non_2x/ai-generated-sakura-border-frame-gold-luxury-transparent-background-free-png.png"
            alt="">
        </div>

        <p style="position: absolute; top: 33%; font-size: 30px; color: #ffffff; font-weight: 800; font-style: italic;">
          ğ•½ğ–†ğ–‰ğ–ğ–†<br></p>

        <p
          style="position: absolute; top: 53%; left: 15%; font-size: 30px; color: #ffffff; font-weight: 800; font-style: italic;">
          ğ•¶ğ–—ğ–ğ–˜ğ–ğ–†ğ–“ğ–†<br></p>
      </div>
      <div class="back" onclick="playAudio()">
        <h2 style="color: rgb(156, 7, 7); position: absolute;top: 2%;">.....â™¥ ğ“œğ“¸ğ“¶ğ“®ğ“·ğ“½ ğ“’ğ“ªğ“¹ğ“½ğ“¾ğ“»ğ“® â™¥....</h2>


        <div class="secondpagescondimg">

          <img
            src="https://static.vecteezy.com/system/resources/thumbnails/037/253/816/small_2x/ai-generated-beautiful-quite-wedding-couple-for-wedding-card-invitation-png.png"
            alt="">
        </div>


        <div class="image-container">

          <img class="centered-image"
            src="https://www.transparentpng.com/thumb/flowers-borders/floral-borders-invitations-png-25.png" alt="">
        </div>
        <div class="secondpageimage">
          <img class="centered-image"
            src="https://png.pngtree.com/png-clipart/20221222/ourmid/pngtree-two-heart-shape-love-icon-illustration-clipart-png-image_6533016.png"
            alt="">
        </div>
        <p style="position: fixed; top: 30%; right: 19%; color: rgb(255, 255, 255); font-weight: 700; font-size: 30px;">
          ğ•½ğ–†ğ–‰ğ–ğ–†</p>
        <p style="position: fixed; top: 48%; right: 34%; color: rgb(255, 255, 255); font-weight: 700; font-size: 22px;">
          ğ•¶ğ–—ğ–ğ–˜ğ–ğ–†ğ–“ğ–†</p>
        <p style="color: rgb(156, 7, 7); top:80%; position: absolute;">ğ“ ğ“¬ğ“¸ğ“µğ“µğ“®ğ“¬ğ“½ğ“²ğ“¸ğ“· ğ“¸ğ“¯ ğ“«ğ“®ğ“ªğ“¾ğ“½ğ“²ğ“¯ğ“¾ğ“µ â™¥
          ğ“¶ğ“¸ğ“¶ğ“®ğ“·ğ“½ğ“¼...</p>
      </div>
    </div>

    <!-- Remaining Pages (One Image Per Side) -->
    <% let usedImages=new Set(); %>
      <% let uniquePhotos=photos.filter(photo=> !usedImages.has(photo._id.toString())); %>
        <% uniquePhotos.forEach(photo=> usedImages.add(photo._id.toString())); %>

          <% for (let i=0; i < uniquePhotos.length; i +=2) { %>
            <div class="page">


              <!-- Front Side -->
              <% if (i < uniquePhotos.length) { %>
                <div class="front">

                  <div class="image-container">
                    <img class="centered-image"
                      src="https://png.pngtree.com/png-clipart/20221126/ourmid/pngtree-floral-border-watercolor-rose-flowers-png-image_6481327.png"
                      alt="">
                  </div>
                  <img
                    src="data:<%= uniquePhotos[i].contentType %>;base64,<%= uniquePhotos[i].data.toString('base64') %>"
                    alt="Uploaded Image <%= i + 1 %>" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <% } %>

                  <!-- Back Side -->
                  <% if (i + 1 < uniquePhotos.length) { %>
                    <div class="back">

                      <div class="image-container">
                        <img class="centered-image" style="position: absolute;   right: -8%; top: -10%; height: 118%; "
                          src="https://static.vecteezy.com/system/resources/thumbnails/021/183/330/small_2x/gold-frame-with-roses-flower-watercolor-png.png"
                          alt="">
                      </div>
                      <img
                        src="data:<%= uniquePhotos[i + 1].contentType %>;base64,<%= uniquePhotos[i + 1].data.toString('base64') %>"
                        alt="Uploaded Image <%= i + 2 %>" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                    <% } %>
            </div>
            <% } %>

              <!-- Last Page (Back Cover) -->
              <div class="page" onclick="playAudio()">
                <div class="front" onclick="playAudio()">
                  <h2 style="color: rgb(168, 16, 16) ;">....ğ“”ğ“·ğ“­ ğ“¸ğ“¯ ğ“ğ“µğ“«ğ“¾ğ“¶ â™¥ ... </h2>
                  <div class="image-container">
                    <img class="centered-image"
                      src="https://www.transparentpng.com/thumb/flowers-borders/floral-borders-invitations-png-25.png"
                      alt="">
                  </div>
                  <div class="endpageimage">
                    <img
                      src="https://png.pngtree.com/png-clipart/20230912/original/pngtree-indian-punjabi-sikh-wedding-rituals-bride-and-groom-dancing-couple-illustration-png-image_11052015.png"
                      alt="">
                  </div>
                  <div class="secondpageimage2">
                    <img class="centered-image"
                      src="https://png.pngtree.com/png-clipart/20210309/original/pngtree-two-beautiful-red-roses-png-image_5809593.jpg"
                      alt="">
                  </div>
                  <p style="color: rgb(168, 16, 16); position: absolute; top: 80%;  ">ğ•‹ğ•™ğ•’ğ•Ÿğ•œ â™¥ ğ•ªğ• ğ•¦ ğ•—ğ• ğ•£
                    ğ•§ğ•šğ•–ğ•¨ğ•šğ•Ÿğ•˜...</p>
                </div>
                <div class="back cover" onclick="playAudio()">
                  <h3 style="font-size: 20px; position: absolute; top: 2%; right: 20%; color: rgb(156, 7, 7);">ê§à¼’à¼º
                    Created with Love à¼»à¼’ê§‚</h3>

                  <div class="lastpageimag">
                    <img class="centered-image"
                      src="https://png.pngtree.com/png-clipart/20240901/original/pngtree-indian-couple-ai-generated-image-png-image_15908565.png"
                      alt="">
                  </div>
                  <div class="image-containerlast">
                    <img class="centered-image"
                      src="https://png.pngtree.com/png-vector/20230523/ourmid/pngtree-red-chinese-style-thai-rectangle-corner-certificate-page-border-pattern-line-vector-png-image_7107180.png"
                      alt="">
                  </div>
                  <div class="rose4">
                    <img class="centered-image"
                      src="https://png.pngtree.com/png-clipart/20210309/original/pngtree-two-beautiful-red-roses-png-image_5809593.jpg"
                      alt="">
                  </div>
                  <p style="position: absolute; top: 89%; right: 30%; color: rgb(156, 7, 7);">Photo Album Project 2025
                  </p>
                </div>
              </div>
  </div>

 
  <script>
  const colors = ["#FFD700", "#FFFFFF", "#FFA500", "#87CEEB", "#FF4500", "#FF69B4", "#00FF7F"];

function createFallingItem() {
    const item = document.createElement("div");
    item.classList.add("falling-item");
    
    // Random color selection
    const color = colors[Math.floor(Math.random() * colors.length)];
    item.style.color = color;
    
    // Random position
    item.style.left = Math.random() * window.innerWidth + "px";
    item.style.animationDuration = (Math.random() * 5 + 2) + "s"; // Different speeds
    
    document.body.appendChild(item);
    
    // Remove after animation ends
    setTimeout(() => {
        item.remove();
    }, 7000);
}

// Create falling items at intervals
setInterval(createFallingItem, 100);

  //
    // for flip book 
    const flipBook = (elBook) => {
      elBook.style.setProperty("--c", 0);
      elBook.querySelectorAll(".page").forEach((page, idx) => {
        page.style.setProperty("--i", idx);
        page.addEventListener("click", (evt) => {
          if (evt.target.closest("a")) return;
          const curr = evt.target.closest(".back") ? idx : idx + 1;
          elBook.style.setProperty("--c", curr);
        });
      });
    };
  
    document.querySelectorAll(".book").forEach(flipBook);
  
  
  
  
  
  
    // for sharing page btn
    function sharePage() {
      const pageUrl = window.location.href;
      const pageTitle = document.title;
  
      if (navigator.share) {
        navigator.share({
          title: pageTitle,
          url: pageUrl
        }).catch(err => console.log("Sharing failed:", err));
      } else {
        navigator.clipboard.writeText(pageUrl).then(() => {
          alert("ğŸ”— Link copied to clipboard!");
        });
      }
    }
  
  
  
  
    // for play music
    let player2;
    function playmusic() {
      if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
        let tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        let firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  
        window.onYouTubeIframeAPIReady = function () {
          createPlayer();
        };
      } else {
        createPlayer();
      }
    }
  
    function createPlayer() {
      player2 = new YT.Player('player2', {
        height: '0',
        width: '0',
        videoId: 's2lX0cBlJ1Y', // YouTube video ID
        playerVars: {
          autoplay: 1,  // Auto-play enabled
          controls: 0,  // Hide controls
          showinfo: 0,
          modestbranding: 1,
          loop: 1, // Loop audio
          start: 0, // Start at 2 seconds
          // Stop at 3 seconds
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }
  
    function onPlayerReady(event) {
      event.target.playVideo(); // Start playing automatically
    }
  
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.ENDED) {
        player2.seekTo(2); // Loop back to 2 seconds
        player2.playVideo();
      }
    }
  
  
  
    //  for page sound              
    let player;
  
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '0', // Hide video
        width: '0',
        videoId: 'tAADqtTtT7k', // Your YouTube video ID
        playerVars: {
          autoplay: 0, // Don't auto-play initially
          controls: 0, // Hide controls
          showinfo: 0,
          modestbranding: 1,
          loop: 1, // Loop audio
          start: 2, // â¬… 2 à¤¸à¥‡à¤•à¤‚à¤¡ à¤ªà¤° à¤¶à¥à¤°à¥‚
          end: 3   // â¬… 3 à¤¸à¥‡à¤•à¤‚à¤¡ à¤ªà¤° à¤°à¥à¤•à¥‡à¤—à¤¾
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }
  
    function onPlayerReady(event) {
      console.log("YouTube Player Ready");
    }
  
    function playAudio() {
      if (player) {
        player.seekTo(2); // â¬… à¤¸à¥à¤¨à¤¿à¤¶à¥à¤šà¤¿à¤¤ à¤•à¤°à¥‡à¤‚ à¤•à¤¿ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ 2 à¤¸à¥‡à¤•à¤‚à¤¡ à¤ªà¤° à¤¸à¥€à¤• à¤¹à¥‹à¤—à¤¾
        player.playVideo();
      }
    }
  
    function pauseAudio() {
      if (player) {
        player.pauseVideo();
      }
    }
  
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.PLAYING) {
        setTimeout(() => {
          if (player.getCurrentTime() >= 3) { // â¬… 3 à¤¸à¥‡à¤•à¤‚à¤¡ à¤ªà¤° à¤°à¥à¤•à¤¨à¤¾
            player.pauseVideo();
          }
        }, 1000); // 1 à¤¸à¥‡à¤•à¤‚à¤¡ à¤¬à¤¾à¤¦ à¤šà¥‡à¤• à¤•à¤°à¤¨à¤¾
      }
    }
  
    // Load YouTube API
    let tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    let firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  
  
    //  for Hand click animation
    const hand = document.getElementById("hand");
    hand.addEventListener("mousedown", () => {
      hand.classList.add("clicked");
    });
    hand.addEventListener("mouseup", () => {
      hand.classList.remove("clicked");
    });
  </script>
  
</body>
 
</html>