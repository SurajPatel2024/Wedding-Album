<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
   <title>3D Flip Album</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100dvh;
      perspective: 1000px;
      font: 1em/1.4 "Poppins", sans-serif;
      overflow: hidden;
      color: hsl(180 68% 5%);
      background-color: black;
    }

    .rotate-message {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      font-size: 1.5em;
      text-align: center;
      padding: 20px;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .book {
      position: relative;
     
      display: flex;
      margin: auto;
      width: 55cqmin;
      max-width: 90vw;
      max-height: 60vh;
      width: 505px;
      height: 390px;
      pointer-events: none;
      transform-style: preserve-3d;
      transition: translate 1s;
      translate: calc(min(var(--c), 1) * 50%) 0%;
      rotate: 0 0 0 30deg;
    }



    .page {
  --thickness: 4;
  flex: none;
  display: flex;
  width: 100%;
  font-size: 2cqmin;
  pointer-events: all;
  user-select: none;
  transform-style: preserve-3d;
  transform-origin: left center;
  transition: transform 1s, rotate 1s ease-in calc((min(var(--i), var(--c)) - max(var(--i), var(--c))) * 50ms);
  translate: calc(var(--i) * -100%) 0px 0px;
  transform: translateZ(calc((var(--c) - var(--i) - 0.5) * calc(var(--thickness) * .23cqmin)));
  rotate: 0 1 0 calc(clamp(0, var(--c) - var(--i), 1) * -180deg);
  animation: boxShadowGlow 2s infinite alternate; /* Add animation */
}

@keyframes boxShadowGlow {
  0% { box-shadow: 0px 0px 20px rgb(0, 255, 98); }
  50% { box-shadow: 0px 0px 30px rgb(255, 0, 98); }
  100% { box-shadow: 0px 0px 20px rgb(0, 98, 255); }
}

    .front,
    .back {
      position: relative;
      flex: none;
      width: 100%;
      background-image: url('https://static.vecteezy.com/system/resources/thumbnails/035/494/595/small_2x/ai-generated-antique-old-elegant-background-photo.jpg');
      backface-visibility: hidden;
      overflow: hidden;
      background-size: cover;
      /* Ensure the image covers the entire page */
      background-position: center;
      /* Center the image */
      background-repeat: no-repeat;
      background-color: #fff;
      translate: 0px;
    }

    .back {
      translate: -100% 0;
      rotate: 0 1 0 180deg;
    }

    .front,
    .back {
      display: flex;
      flex-flow: column wrap;
      justify-content: space-between;
      padding: 2em;
      border: 1px solid #0002;
    }

    .front img,
    .back img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

     
 


  </style>
  
</head>

<body>
 
   
  <div id="player2" style="display: none;"></div>
 

<script>
  let player2;

  function playmusic() {
    if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
      let tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      let firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      window.onYouTubeIframeAPIReady = function () {
        createPlayer();
      };
    } else {
      createPlayer();
    }
  }

  function createPlayer() {
    player2 = new YT.Player('player2', {
      height: '0',
      width: '0',
      videoId: 'kZGpkkfk2lA', // YouTube video ID
      playerVars: {
        autoplay: 1,  // Auto-play enabled
        controls: 0,  // Hide controls
        showinfo: 0,
        modestbranding: 1,
        loop: 1, // Loop audio
        start: 2, // Start at 2 seconds
        // Stop at 3 seconds
      },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  function onPlayerReady(event) {
    event.target.playVideo(); // Start playing automatically
  }

  function onPlayerStateChange(event) {
    if (event.data === YT.PlayerState.ENDED) {
      player2.seekTo(2); // Loop back to 2 seconds
      player2.playVideo();
    }
  }
</script>


<!-- Hidden YouTube Player -->
<div id="player" style="display: none;"></div>

<script>
    let player;

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '0', // Hide video
            width: '0',
            videoId: 'tAADqtTtT7k', // Your YouTube video ID
            playerVars: {
                autoplay: 0, // Don't auto-play initially
                controls: 0, // Hide controls
                showinfo: 0,
                modestbranding: 1,
                loop: 1, // Loop audio
                start: 2, // ‚¨Ö 2 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§™‡§∞ ‡§∂‡•Å‡§∞‡•Ç
                end: 3   // ‚¨Ö 3 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§™‡§∞ ‡§∞‡•Å‡§ï‡•á‡§ó‡§æ
            },
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            }
        });
    }

    function onPlayerReady(event) {
        console.log("YouTube Player Ready");
    }

    function playAudio() {
        if (player) {
            player.seekTo(2); // ‚¨Ö ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã 2 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§™‡§∞ ‡§∏‡•Ä‡§ï ‡§π‡•ã‡§ó‡§æ
            player.playVideo();
        }
    }

    function pauseAudio() {
        if (player) {
            player.pauseVideo();
        }
    }

    function onPlayerStateChange(event) {
        if (event.data === YT.PlayerState.PLAYING) {
            setTimeout(() => {
                if (player.getCurrentTime() >= 3) { // ‚¨Ö 3 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§™‡§∞ ‡§∞‡•Å‡§ï‡§®‡§æ
                    player.pauseVideo();
                }
            }, 1000); // 1 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§ö‡•á‡§ï ‡§ï‡§∞‡§®‡§æ
        }
    }

    // Load YouTube API
    let tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    let firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
</script>

  
<style>
 .image-container {
    position: absolute;
    width: 60cqmin;
    height: 100%; 
     top: 0;
    right: 0;  
}

.centered-image {
    position: absolute;
    width:  100%;
  
    top: 0%;
}
.firstpage{
  width: 50%;
  height: 100%;
  position: fixed;
  top: 15%;
  left: 50%;
}
.fsi{
 width: 200px;
 position: fixed;
  top: 20%;
 right: 60%;
}
.fsi2{
 width: 200px;
 position: fixed;
  top: 40%;
 right: 50%;
}
.fsi3{
 width: 80px;
 position: fixed;
  top: 50%;
 right: 60%;
 
}
.secondpageimage{
  position: absolute;
  right: 10%;
  width: 50%;
  height: 80%;
  top: 12%;
}
.secondpageimage2{
  position: absolute;
  right: 10%;
  width: 50%;
  height: 80%;
  top: 30%;
}
.rose4{
  position: absolute;
  left: -1%;
  width: 40%;
  height: 75%;
  top: 20%;
}
.lastpageimag{
  position: absolute;
  right: 15%;
  width: 46%;
  height: 80%;
  top: 13%;
}
.image-containerlast{
  position: absolute;
    width: 55cqmin;
    height: 100%; 
     top: 0;
    right: 0; 
}
.secondpagescondimg{
  position: absolute;
  width: 45%;
  height: 60%;
  top: 25%;
}
.endpageimage{
  position: absolute;
  width: 45%;
  height: 60%;
  top: 25%;
}

.btn-container {
  position: fixed;
    width: 100%;
    display: flex;
    margin-top: 20%;
    justify-content: start;
    align-items: center;
    height: 100vh;
    gap: 15px; /* Space between buttons */
    flex-direction: column;
  }

  .share-btn, .btn {
    padding: 12px 24px;
    font-size: 18px;
    display: flex;
    align-items: center;
    gap: 8px;
    border: none;
    cursor: pointer;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
  }

  /* Share Button */
  .share-btn {
    background-color: #3b9c37;
    color: white;
  }

  .share-btn:hover {
    background-color: #2e7c2b;
    transform: translateY(-2px);
  }

  /* Open Desktop Mode Button (visible only on mobile) */
  .btn {
    background-color: rgb(0, 119, 255);
    color: white;
    display: none; /* Hide by default */
  }

  .btn:hover {
    background-color: rgb(0, 3, 200);
    transform: translateY(-2px);
  }

  /* Show button only on mobile */
  @media only screen and (max-width: 768px) {
    .btn-container{
          position: absolute;
          top: 85%;
           

    }
    .btn {
      display: flex;
      
    }
   
  }
</style>
<div class="btn-container">
  <button class="share-btn" onclick="sharePage()">
    <i class="fa-solid fa-share-nodes"></i> Share
  </button>

  <button class="btn" onclick="enableDesktopMode()">
    <i class="fa-solid fa-expand"></i>view
  </button>
</div>

 <div class="book" onclick="playAudio() ,playmusic()" >
  <!-- First Page (Cover Page) -->
  <div class="page" onclick="playAudio()">
    <div class="front cover" onclick="playAudio()">
      <h1 style="position: absolute; top: 15%; font-size: 30px; left: 8px;">ùì¶ùìÆùì≠ùì≠ùì≤ùì∑ùì∞ ùìêùìµùì´ùìæùì∂</h1>
      <div class="firstpage">
        <img src="https://png.pngtree.com/png-clipart/20230927/original/pngtree-wedding-caricature-png-image_13144276.png" alt="">
        
      </div>
      <div class="fsi">
        
        <img src="https://static.vecteezy.com/system/resources/previews/044/808/898/non_2x/red-bright-abstract-spot-brush-stroke-abstract-figure-background-texture-transparent-clipart-free-png.png" alt="">
      </div>
      <div class="fsi2">
        
        <img src="https://static.vecteezy.com/system/resources/previews/044/808/898/non_2x/red-bright-abstract-spot-brush-stroke-abstract-figure-background-texture-transparent-clipart-free-png.png" alt="">
      </div>
      <div class="fsi3">
        
        <img src="https://png.pngtree.com/png-vector/20230220/ourmid/pngtree-sang-hindi-calligraphy-png-image_6610553.png" alt="">
      </div>
    
    
    <div class="image-container">
      <img class="centered-image"   src="https://static.vecteezy.com/system/resources/previews/034/866/031/non_2x/ai-generated-sakura-border-frame-gold-luxury-transparent-background-free-png.png" alt="">
    </div>

      <p style="position: absolute; top: 33%; font-size: 30px; color: #ffffff; font-weight: 800; font-style: italic;">ùïΩùñÜùñâùñçùñÜ<br></p>
      
      <p style="position: absolute; top: 53%; left: 15%; font-size: 30px; color: #ffffff; font-weight: 800; font-style: italic;">ùï∂ùñóùñéùñòùñçùñÜùñìùñÜ<br></p>
    </div>
    <div class="back" onclick="playAudio()">
      <h2 style="color: rgb(156, 7, 7); position: absolute;top: 2%;">.....‚ô• ùìúùì∏ùì∂ùìÆùì∑ùìΩ ùìíùì™ùìπùìΩùìæùìªùìÆ ‚ô•....</h2>
     
     
      <div class="secondpagescondimg">
      
        <img    src="https://static.vecteezy.com/system/resources/thumbnails/037/253/816/small_2x/ai-generated-beautiful-quite-wedding-couple-for-wedding-card-invitation-png.png" alt="">
      </div>
      
     
      <div class="image-container">
      
        <img class="centered-image"   src="https://www.transparentpng.com/thumb/flowers-borders/floral-borders-invitations-png-25.png" alt="">
    </div>
    <div class="secondpageimage">
      <img class="centered-image"   src="https://png.pngtree.com/png-clipart/20221222/ourmid/pngtree-two-heart-shape-love-icon-illustration-clipart-png-image_6533016.png" alt="">
  </div>
  <p style="position: fixed; top: 30%; right: 19%; color: rgb(255, 255, 255); font-weight: 700; font-size: 30px;">ùïΩùñÜùñâùñçùñÜ</p>
  <p style="position: fixed; top: 48%; right: 34%; color: rgb(255, 255, 255); font-weight: 700; font-size: 22px;">ùï∂ùñóùñéùñòùñçùñÜùñìùñÜ</p> 
      <p style="color: rgb(156, 7, 7); top:80%; position: absolute;">ùìê ùì¨ùì∏ùìµùìµùìÆùì¨ùìΩùì≤ùì∏ùì∑ ùì∏ùìØ ùì´ùìÆùì™ùìæùìΩùì≤ùìØùìæùìµ ‚ô• ùì∂ùì∏ùì∂ùìÆùì∑ùìΩùìº...</p>
    </div>
  </div>

  <!-- Remaining Pages (One Image Per Side) -->
  <% let usedImages = new Set(); %>
  <% let uniquePhotos = photos.filter(photo => !usedImages.has(photo._id.toString())); %>
  <% uniquePhotos.forEach(photo => usedImages.add(photo._id.toString())); %>

  <% for (let i = 0; i < uniquePhotos.length; i += 2) { %>
    <div class="page">
    
      
      <!-- Front Side -->
      <% if (i < uniquePhotos.length) { %>
        <div class="front">
      
        <div class="image-container">
          <img class="centered-image" src="https://png.pngtree.com/png-clipart/20221126/ourmid/pngtree-floral-border-watercolor-rose-flowers-png-image_6481327.png" alt="">
      </div>
          <img src="data:<%= uniquePhotos[i].contentType %>;base64,<%= uniquePhotos[i].data.toString('base64') %>"
            alt="Uploaded Image <%= i + 1 %>" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
      <% } %>

      <!-- Back Side -->
      <% if (i + 1 < uniquePhotos.length) { %>
        <div class="back">
         
          <div class="image-container">
            <img class="centered-image" style="position: absolute;   right: -8%; top: -10%; height: 118%; "  src="https://static.vecteezy.com/system/resources/thumbnails/021/183/330/small_2x/gold-frame-with-roses-flower-watercolor-png.png" alt="">
        </div> 
          <img src="data:<%= uniquePhotos[i + 1].contentType %>;base64,<%= uniquePhotos[i + 1].data.toString('base64') %>"
            alt="Uploaded Image <%= i + 2 %>" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
      <% } %>
    </div>
  <% } %>

  <!-- Last Page (Back Cover) -->
  <div class="page" onclick="playAudio()">
    <div class="front" onclick="playAudio()">
      <h2 style="color: rgb(168, 16, 16) ;">....ùìîùì∑ùì≠ ùì∏ùìØ ùìêùìµùì´ùìæùì∂ ‚ô• ... </h2>
      <div class="image-container">
        <img class="centered-image"   src="https://www.transparentpng.com/thumb/flowers-borders/floral-borders-invitations-png-25.png" alt="">
    </div>
      <div class="endpageimage">
        <img  src="https://png.pngtree.com/png-clipart/20230912/original/pngtree-indian-punjabi-sikh-wedding-rituals-bride-and-groom-dancing-couple-illustration-png-image_11052015.png" alt="">
    </div>
    <div class="secondpageimage2">
      <img class="centered-image"src="https://png.pngtree.com/png-clipart/20210309/original/pngtree-two-beautiful-red-roses-png-image_5809593.jpg" alt="">
  </div>
      <p style="color: rgb(168, 16, 16); position: absolute; top: 80%;  ">ùïãùïôùïíùïüùïú ‚ô• ùï™ùï†ùï¶ ùïóùï†ùï£ ùïßùïöùïñùï®ùïöùïüùïò...</p>
    </div>
    <div class="back cover" onclick="playAudio()">
      <h3 style="font-size: 20px; position: absolute; top: 2%; right: 20%; color: rgb(156, 7, 7);" >ÍßÅ‡ºí‡º∫ Created with Love ‡ºª‡ºíÍßÇ</h3>
   
    <div class="lastpageimag">
      <img class="centered-image"   src="https://png.pngtree.com/png-clipart/20240901/original/pngtree-indian-couple-ai-generated-image-png-image_15908565.png" alt="">
  </div>
  <div class="image-containerlast">
    <img class="centered-image" src="https://png.pngtree.com/png-vector/20230523/ourmid/pngtree-red-chinese-style-thai-rectangle-corner-certificate-page-border-pattern-line-vector-png-image_7107180.png" alt="">
</div>
  <div class="rose4">
    <img class="centered-image" src="https://png.pngtree.com/png-clipart/20210309/original/pngtree-two-beautiful-red-roses-png-image_5809593.jpg" alt="">
</div>
      <p style="position: absolute; top: 89%; right: 30%; color: rgb(156, 7, 7);">Photo Album Project 2024</p>
    </div>
  </div>
</div>






  <script>
    const flipBook = (elBook) => {
      elBook.style.setProperty("--c", 0);
      elBook.querySelectorAll(".page").forEach((page, idx) => {
        page.style.setProperty("--i", idx);
        page.addEventListener("click", (evt) => {
          if (evt.target.closest("a")) return;
          const curr = evt.target.closest(".back") ? idx : idx + 1;
          elBook.style.setProperty("--c", curr);
        });
      });
    };

    document.querySelectorAll(".book").forEach(flipBook);
  </script>
  
</body>

 
 <!-- Buttons Container -->


  <script>
    function sharePage() {
      const pageUrl = window.location.href;
      const pageTitle = document.title;

      if (navigator.share) {
        navigator.share({
          title: pageTitle,
          url: pageUrl
        }).catch(err => console.log("Sharing failed:", err));
      } else {
        navigator.clipboard.writeText(pageUrl).then(() => {
          alert("üîó Link copied to clipboard!");
        });
      }
    }

    

    function enableDesktopMode() {
      // Change viewport to simulate a large desktop screen
      document.querySelector('meta[name="viewport"]').setAttribute('content', 'width=1280');
      }
  </script>
</html>